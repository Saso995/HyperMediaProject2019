<html>
<head>
<title>BookStore</title>

<script src="jquery-3.3.1.min.js"></script>

<script type="text/javascript">
// jQuery convention for running when the document has been fully loaded:
$(document).ready(() => {
  $('#bookButton').click(() => {
    // From: http://learn.jquery.com/ajax/jquery-ajax-methods/
    // Using the core $.ajax() method since it's the most flexible.
    // ($.get() and $.getJSON() are nicer convenience functions)
    $.ajax({
      // all URLs are relative to http://localhost:3000/
      url: 'book',
      type: 'GET',
      dataType : 'json', // this URL returns data in JSON format
      success: (data) => {
        console.log('You received some data!', data);
        $('#status').html("Available books: "+ JSON.stringify(data));
      },
    });
  });
  $('#cartButton').click(() => {
    $.ajax({
      url: 'cart',
      type: 'GET',
      dataType : 'json',
      success: (data) => {
        console.log('You received some data!', data);
        $('#status').html('Your Cart: ' + JSON.stringify(data));
      },
    });
  });
  // define a generic Ajax error handler:
  // http://api.jquery.com/ajaxerror/
  $(document).ajaxError(() => {
    $('#status').html('Error: unknown ajaxError!');
  });
});
</script>

</head>
<body>
  <h1>Welcome to our BookStore!</h1>

  Name: <input id="nameBox" type="text" size="20"/>
  <button id="bookButton">Get books</button>
  <button id="cartButton">Cart</button>


  <hr/>

  <div id="status"></div>
</body>
</html>
